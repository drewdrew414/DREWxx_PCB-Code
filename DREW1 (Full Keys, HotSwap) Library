/*
 * Copyright 2024 드루드루
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.

///////////////////////////////////////////////

DREW_1(Full Keys, HotSwap) Product
Buy Link : 
Library : 
 */

#include "stm32f4xx.h" //STM32F407VGT6 MCU

#define COLS 6 //Amount of COLS (Use PD Port)
#define ROWS 16//Amount of ROWS (Use PC, PE Port)

#define COL1_PIN GPIO_PIN_8
#define COL1_PORT GPIOD
//COL1

#define COL2_PIN GPIO_PIN_9
#define COL2_PORT GPIOD
//COL2

#define COL3_PIN GPIO_PIN_10
#define COL3_PORT GPIOD
//COL3

#define COL4_PIN GPIO_PIN_11
#define COL4_PORT GPIOD
//COL4

#define COL5_PIN GPIO_PIN_12
#define COL5_PORT GPIOD
//COL5

#define COL6_PIN GPIO_PIN_13
#define COL6_PORT GPIOD
//COL6

#define ROW1_PIN GPIO_PIN_0
#define ROW1_PORT GPIO○

#define ROW2_PIN GPIO_PIN_1
#define ROW2_PORT GPIO○

#define ROW3_PIN GPIO_PIN_2
#define ROW3_PORT GPIO○

#define ROW4_PIN GPIO_PIN_3
#define ROW4_PORT GPIO○

#define ROW5_PIN GPIO_PIN_4
#define ROW5_PORT GPIO○

#define ROW6_PIN GPIO_PIN_5
#define ROW6_PORT GPIO○

#define ROW7_PIN GPIO_PIN_6
#define ROW7_PORT GPIO○

#define ROW8_PIN GPIO_PIN_7
#define ROW8_PORT GPIO○

#define ROW9_PIN GPIO_PIN_8
#define ROW9_PORT GPIO○

#define ROW10_PIN GPIO_PIN_9
#define ROW10_PORT GPIO○

#define ROW11_PIN GPIO_PIN_10
#define ROW11_PORT GPIO○

#define ROW12_PIN GPIO_PIN_11
#define ROW12_PORT GPIO○

#define ROW13_PIN GPIO_PIN_12
#define ROW13_PORT GPIO○

#define ROW14_PIN GPIO_PIN_13
#define ROW14_PORT GPIO○

#define ROW15_PIN GPIO_PIN_14
#define ROW15_PORT GPIO○

#define ROW16_PIN GPIO_PIN_15
#define ROW16_PORT GPIO○

#define ROW17_PIN GPIO_PIN_16
#define ROW17_PORT GPIO○

const char keyMap [16][6]={
{"ESC_key","

};

void GPIO_Init(void) {
    GPIO_InitTypeDef GPIO_InitStruct = {0};

    //Open Clocks
    __HAL_RCC_GPIOD_CLK_ENABLE(); //Active Port D
    __HAL_RCC_GPIOE_CLK_ENABLE(); //Active Port E

    GPIO_InitStruct.Pin = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_2 | GPIO_PIN_3 |
                          GPIO_PIN_4 | GPIO_PIN_5 | GPIO_PIN_6 | GPIO_PIN_7 |
                          GPIO_PIN_8 | GPIO_PIN_9 | GPIO_PIN_10 | GPIO_PIN_11 |
                          GPIO_PIN_12 | GPIO_PIN_13 | GPIO_PIN_14 | GPIO_PIN_15;
    GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP; //PushPull
    GPIO_InitStruct.Pull = GPIO_NOPULL;         //NoPullup/down
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW; //set Speed
    HAL_GPIO_Init(GPIOE, &GPIO_InitStruct);      // Reset Port E

    GPIO_InitStruct.Pin = GPIO_PIN_8 | GPIO_PIN_9 | GPIO_PIN_10 | GPIO_PIN_11 | GPIO_PIN_12 | GPIO_PIN_13;
    GPIO_InitStruct.Mode = GPIO_MODE_INPUT; //input Mode
    GPIO_InitStruct.Pull = GPIO_PULLUP;      //Trun On Pullup Resistor
    HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);  //Reset Port D
}

}
